{% extends 'base.html' %}
{% load static %}

{% block title %}游닁 Matr칤cula Anual{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/matricula_anual.css' %}">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />

<div class="admin-panel">
  <h2 class="titulo-vista">游닁 Matr칤cula Anual</h2>

  <!-- 游꿢 Filtros -->
  <div class="filtros">
    <div class="form-group">
      <label for="filtroAnio">A침o:</label>
      <select id="filtroAnio" multiple></select>
    </div>

    <div class="form-group">
      <label for="filtroCuatrimestre">Cuatrimestre:</label>
      <select id="filtroCuatrimestre">
        <option value="Todos">Todos</option>
        <option value="Enero - Abril">Enero - Abril</option>
        <option value="Mayo - Agosto">Mayo - Agosto</option>
        <option value="Septiembre - Diciembre">Septiembre - Diciembre</option>
      </select>
    </div>

    <div class="form-group">
      <label for="filtroPrograma">Tipo de Programa:</label>
      <select id="filtroPrograma">
        <option value="antiguo">Antiguo</option>
        <option value="nuevo">Nuevo</option>
      </select>
    </div>

    <div class="form-group">
      <label for="filtroCarreras">Carreras:</label>
      <select id="filtroCarreras" multiple></select>
    </div>
  </div>

  <!-- 游늵 Tabla por a침o -->
  <div class="tabla-container">
    <h4>游늵 Detalle por A침o</h4>
    <table class="tabla-matricula">
      <thead>
        <tr>
          <th>A침o</th>
          <th>Programa</th>
          <th>Ene-Abr</th>
          <th>May-Ago</th>
          <th>Sep-Dic</th>
          <th>Total</th>
        </tr>
      </thead>
      <tbody>
        {% for fila in tabla_datos %}
        <tr>
          <td>{{ fila.anio }}</td>
          <td>{{ fila.programa }}</td>
          <td>{{ fila.ene_abr }}</td>
          <td>{{ fila.may_ago }}</td>
          <td>{{ fila.sep_dic }}</td>
          <td>{{ fila.total }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- 游늳 Gr치ficas -->
  <div id="contenedorGraficas"
       data-antiguos='{{ data_antiguos_json|safe }}'
       data-nuevos='{{ data_nuevos_json|safe }}'
       data-carreras-antiguos='{{ programas_antiguos_lista|safe }}'
       data-carreras-nuevos='{{ programas_nuevos_lista|safe }}'>

    <canvas id="graficaBarras"></canvas>
    <canvas id="graficaLinea"></canvas>
    <canvas id="graficaPastel"></canvas>
    <canvas id="graficaGauss"></canvas>
  </div>
</div>

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<script src="{% static 'js/matricula_anual_usuario.js' %}"></script>
{% endblock %}
