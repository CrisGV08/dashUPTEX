{% extends 'base.html' %}
{% load static %}

{% block title %}Matrícula Histórica{% endblock %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/matriculahistoricac.css' %}">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>
<script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />

<div class="container-fluid px-4">
    <h2 class="mt-4">📊 Matrícula Histórica</h2>
    <div class="filtros-matricula">
        <div id="filtroGraficas" class="form-group mb-2">
            <label><strong>Selecciona las gráficas:</strong></label><br>
            <label><input type="checkbox" value="graficoMatriculaTotal" checked> Matrícula Total (Gráfico Lineal)</label>
            <label><input type="checkbox" value="graficoMatriculaCarrera" checked> Matrícula por Carrera (Gráfico de Barras)</label>
            <label><input type="checkbox" value="graficoPastelCarreras" checked> Distribución por Carrera (Gráfico Pastel)</label>
            <label><input type="checkbox" value="graficoGauss" checked> Distribución Gaussiana</label>
        </div>

        <div class="form-group mb-2">
            <label for="filtro-ciclos"><strong>Selecciona los ciclos:</strong></label>
            <select id="filtro-ciclos" multiple></select>
        </div>

        <div class="mb-3">
            <button id="btnMostrarTodas" class="btn btn-primary">Mostrar Todo</button>
        </div>
    </div>

    <!-- 📈 Gráfico Lineal -->
    <div id="graficoMatriculaTotalContainer" class="grafica-container">
        <h5>Matrícula Total (Gráfico Lineal)</h5>
        <canvas id="graficoMatriculaTotal"></canvas>
    </div>

    <!-- 📊 Gráfico de Barras -->
    <div id="graficoMatriculaCarreraContainer" class="grafica-container">
        <h5>Matrícula por Carrera (Gráfico de Barras)</h5>
        <canvas id="graficoMatriculaCarrera"></canvas>
    </div>
    <!-- 🍰 Gráfico Pastel -->
    <div id="graficoPastelCarrerasContainer" class="grafica-container">
        <h5>Distribución por Carrera (Gráfico Pastel)</h5>
        <canvas id="graficoPastelCarreras"></canvas>
    </div>

    <!-- 🧠 Gráfico Gaussiano -->
    <div id="graficoGaussContainer" class="grafica-container">
        <h5>Distribución Gaussiana</h5>
        <canvas id="graficoGauss"></canvas>
    </div>
</div>

<!-- Datos en JSON -->
<script id="labels-data" type="application/json">{{ labels_json|safe }}</script>
<script id="totales-data" type="application/json">{{ totales_json|safe }}</script>
<script id="programas-data" type="application/json">{{ programas_json|safe }}</script>

<!-- Script principal -->
<script src="{% static 'js/matriculahistoricac_usuario.js' %}"></script>

{% endblock %}
